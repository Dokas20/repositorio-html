<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="media-queries.css">
</head>

<body>
    <main>
        <section id="secimagem">
            <img src="wallpaper002-deitado.jpg" alt="Imagem do ceu" id="image">
        </section>
        <section id="conteudo">
            <div id="principal">
                <h1>Login</h1>
                <p>Seja bem vindo(a) novamente, faÃ§a login para poder acessar a sua conta</p>
                <form action="#" method="post" autocomplete="on" id="login-form">
                    <div class="form">
                        <label for="iemail"><img src="bust-in-silhouette_1f464-20px2.png" alt="User img"
                                id="user"></label>
                        <input type="email" name="email" id="iemail"   required  placeholder="Email"
                        autocomplete="email" >

                        <p style="display: none;" id="wrong">ðŸ”´ </p>
                    </div>
                    <div class="form">
                        <label for="ipass"><img src="key_1f511pq.png" alt="password" id="key"></label>
                        <input type="password" name="pass" id="ipass" -required placeholder="password" autocomplete="current-password"   
                        minlength="8"   maxlength="15">
                    </div>
                    <input type="submit" value="Enviar" id="enviar">
                    <input type="button" value="Esqueci a senha" id="esqueci">
            </div>
            </form>
        </section>
        <div id="erro"></div>
    </main>

    <script>
           document.getElementById('iemail').addEventListener('input', (e)=>{
               console.log(e.target.value)
               var reg = /^[a-zA-Z\._\-0-9]*[@][a-zA-Z]*[\.][a-z]{1,4}$/
               var emailval = e.target.value
               var valid= reg.test(emailval) 
                   if (!valid) {
                document.getElementById('wrong').style.display='block'
            } else {
                document.getElementById('wrong').style.display='none'

            }
               
       
           }) 

        const forme = document.getElementById('login-form')
        const emailInput = document.getElementById('iemail')
        const passInput = document.getElementById('ipass')
        const erroValid = document.getElementById('erro')

        forme.addEventListener('submit',  (e) => {
            let mess = []
               if(!emailInput.value.match(/^[a-zA-Z\._\-0-9]*[@][a-zA-Z]*[\.][a-z]{1,4}$/)) {
                    mess.push('emailInvalid')
               }  
               if(mess.length > 0 ){
                e.preventDefault()
               }
       
        }) 

    </script>

</body>

</html>