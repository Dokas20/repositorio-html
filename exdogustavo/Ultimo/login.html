<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="media-queries.css">
</head>

<body>
    <main>
        <section id="secimagem">
            <img src="wallpaper002-deitado.jpg" alt="Imagem do ceu" id="image">
        </section>
        <section id="conteudo">
            <div id="principal">
                <h1>Login</h1>
                <p>Seja bem vindo(a) novamente, faça login para poder acessar a sua conta</p>
                <form action="#" method="post" autocomplete="on">
                    <div class="form">
                        <label for="iemail"><img src="bust-in-silhouette_1f464-20px2.png" alt="User img"
                                id="user"></label>
                        <input type="email" name="email" id="iemail" required  placeholder="Email"
                            autocomplete="email">
                    </div>
                    <div class="form">
                        <label for="ipass"><img src="key_1f511pq.png" alt="password" id="key"></label>
                        <input type="password" name="pass" id="ipass"required placeholder="password" autocomplete="current-password"   
                        minlength="8"   maxlength="15">
                    </div>
                    <input type="submit" value="Enviar" id="enviar">
                    <input type="button" value="Esqueci a senha" id="esqueci">
            </div>
            </form>
        </section>
        
    </main>

   <script> 
       let form = document.querySelector('form')
        let emailInput = document.querySelector('input#iemail')
        let passInput = document.getElementById('ipass')
        form.addEventListener('submit', (event) => {
            event.preventDefault() // evitar que seja enviado antes da validacao
            // verificaçoes
            // vereficar o email
            if (emalInput.value === '' || !isEmailValid(emailInput.value)) {
                alert('Por favor, prencha o seu email corretamente.')
                return
            } 
            // verifivar a password 

            if(!PassValidation(passInput.value)){
                alert('Por favor, prencha a sua pass corretamente.')
                return
            }
             //se todos os campos estiverem corretamente prenchidos
            form.submit()
        })
        // funcao que valida email
        function isEmailValid(email) {
            // criar a regEX
            let emailValid = new RegExp(

            /^[a-z0-9.]+@[a-z0-9]+\.[a-z]+\.[a-z]?$/
            )
            if(emailValid.test(email)){
                return true
            } else{
                return false
            }
        }  
        function PassValidation(pass){
            let passValid = new RegExp(
                /^[a-z0-9.]+@[a-z0-9]+\.[a-z]+\.[a-z]?$/
            )
            if(passValid.test(pass)){
                return true
            } else{
                return false
            }
        }      
    </script>

</body>

</html>